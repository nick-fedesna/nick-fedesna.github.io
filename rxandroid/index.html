<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>RxAndroid - Reactive Programming for Android</title>

    <meta name="description" content="A presentation about ReactiveX and RxAndroid">
    <meta name="author" content="Nick Fedesna">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/solarized.css" id="theme">
    <link rel="stylesheet" href="css/override.css">

    <!-- Code syntax highlighting -->
    <script src="js/highlight.pack.js"></script>
    <!--<link rel="stylesheet" href="lib/css/zenburn.css">-->
    <link rel="stylesheet" href="css/code/solarized_dark.css">

    <!-- Printing and PDF exports -->  <!--// @formatter:off-->
    <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );

    </script>
    <!--// @formatter:on-->

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">
    <div class="slides">

        <section>
            <h1 class="notransform">RxAndroid</h1>

            <h3>ReactiveX for Android</h3>

            <p>
                <small>Created by <a href="http://gihub.com/nick-fedesna">Nick Fedesna</a></small>
            </p>
        </section>

        <section>
            <section>
                <h2>Nested Callbacks <span style="font-size:50%">(OK, BUT NOT REALLY OK)</span></h2>
                <!--// @formatter:off-->
                <pre><code class="stretch java">
    sApi.loginUser(user).enqueue(new Callback&lt;UserToken&gt;() {
        public void onResponse(Response&lt;UserToken&gt; response) {
            String token = response.body().token;
            // save User token

            sApi.getUserInfo(token).enqueue(new Callback&lt;User&gt;() {
                public void onResponse(Response&lt;User&gt; response) {
                    // do something with User
                }

                public void onFailure(Throwable t) {
                    // notify error getting User
                }
            });
        }

        public void onFailure(Throwable t) {
            // notify login failure
        }
    });

                </code></pre>
                <!--// @formatter:on-->
            </section>
        </section>

        <section data-background="img/rube.gif" data-background-repeat="repeat"
                 data-background-size="900px">
            <section>
                <div class="fragment transparent-background" style="padding:20px">
                    <h2 class="white">Enter: ReactiveX</h2>

                    <p class="white">Offering efficient execution and composition<br>
                        of asynchronous and event-based sequences<br>
                        by providing a collection of operators<br>
                        capable of filtering, transforming and combining<br>
                        <code>Observable</code> emissions and notifications<br>
                        while abstracting away concerns about things like<br>
                        low-level threading, synchronization, thread-safety,<br>
                        concurrent data structures, and non-blocking I/O.
                    </p>
                </div>
            </section>
        </section>

        <section>
            <section data-background="img/llama.jpg">
                <h1 class="white">Wait, what's an <br><em>Observable</em>&nbsp ??</h1>
            </section>

            <section>
                <h2>Pull <span class="notransform">v.</span> Push</h2>
                <table>
                    <tr>
                        <th>event</th>
                        <th>Iterable (pull)</th>
                        <th>Observable (push)</th>
                    </tr>
                    <tr>
                        <td>data</td>
                        <td><code>T next()</code></td>
                        <td><code>onNext(T)</code></td>
                    </tr>
                    <tr>
                        <td>error</td>
                        <td>throws <code>Exception</code></td>
                        <td><code>onError(Exception)</code></td>
                    </tr>
                    <tr>
                        <td>complete</td>
                        <td><code>!hasNext()</code></td>
                        <td><code>onCompleted()</code></td>
                    </tr>
                </table>
            </section>
            <section>
                <h2>One <span class="notransform">v.</span> Many</h2>
                <table>
                    <tr>
                        <th></th>
                        <th>single item</th>
                        <th>multiple items</th>
                    </tr>
                    <tr>
                        <th>synchronous</th>
                        <td><code style="font-size:67%">T getData()</code></td>
                        <td><code style="font-size:67%">Iterable&lt;T&gt; getData()</code></td>
                    </tr>
                    <tr>
                        <th style="border-bottom:none">asynchronous</th>
                        <td><code style="font-size:67%">Future&lt;T&gt; getData()</code></td>
                        <td><code style="font-size:67%">Observable&lt;T&gt; getData()</code></td>
                    </tr>
                </table>
            </section>
        </section>

        <section>
            <h3>Just A Few Operators</h3>

            <span class="operators">
                <strong>Transforming Items</strong>
                <code>Buffer</code>, <code>FlatMap</code>, <code>GroupBy</code>, <code>Map</code>,
                <code>Scan</code>, <code>Window</code>
            </span>

            <span class="operators">
                <strong>Filtering</strong>
                <code>Debounce</code>, <code>Distinct</code>, <code>Filter</code>,
                <code>First</code>, <code>IgnoreElements</code>, <code>Last</code>, <code>Sample</code>
            </span>

            <span class="operators">
                <strong>Combining</strong>
                <code>And/Then/When</code>, <code>CombineLatest</code>, <code>Join</code>,
                <code>Merge</code>, <code>StartWith</code>, <code>Switch</code>, <code>Zip</code>
            </span>

            <span class="operators">
                <strong>Conditional &amp; Boolean</strong>
                <code>All</code>, <code>Amb</code>, <code>Contains</code>, <code>DefaultIfEmpty</code>,
                <code>Skip</code>, <code>Take</code>
            </span>

            <span class="operators">
                <strong>Mathematical &amp; Aggregate</strong>
                <code>Average</code>, <code>Concat</code>, <code>Count</code>, <code>Max</code>,
                <code>Min</code>, <code>Reduce</code>, <code>Sum</code>
            </span>

            <span class="operators">
                <strong>Utility</strong>
                <code>Delay</code>, <code>Do</code>, <code>Materialize</code>,
                <code>TimeInterval</code>, <code>Timeout</code>, <code>Timestamp</code>, <code>Using</code>
            </span>
        </section>

        <section>
            <h2>I subscribe to all this, so what now?</h2>
                <div class="fragment">
                <h3><code class="java">Observer&lt;T&gt;</code></h3>
                <table class="fragment">
                    <tr>
                        <td>emissions</td>
                        <td><code class="java">onNext(T)</code></td>
                    </tr>
                    <tr class="fragment">
                        <td style="vertical-align:middle">notifications</td>
                        <td><code class="java">onError(Throwable e)</code><br>
                            <code class="java">onComplete()</code></td>
                    </tr>
                </table>
                </div>
        </section>
        <section>
            <h3>I'm a visual learner, what's all this look like?</h3>

            <!--// @formatter:off-->
            <pre><code class="java">
        private void loginUser(User user) {
            sApi.loginUserRx(user)
                .map(response -> response.token)
                .doOnNext(this::saveUserToken)
                .flatMap(sApi::getUserInfoRx)
                .subscribe(this::userLoggedIn,
                           this::handleError);
        }

        private void saveUserToken(String token) {…}
        private void userLoggedIn(User user) {…}
        private void handleError(Throwable throwable) {…}
            </code></pre>
            <!--// @formatter:on-->
        </section>

        <section>
            <h2>What about Android?</h2>

            <!--// @formatter:off-->
            <pre><code class="gradle">
        buildscript {
            dependencies {
                classpath 'me.tatarka:gradle-retrolambda:3.2.2'
            }
        }

        apply plugin: 'me.tatarka.retrolambda'

        dependencies {
            compile 'io.reactivex:rxandroid:1.0.1'
            compile 'io.reactivex:rxjava:1.0.14'
            compile 'com.trello:rxlifecycle:0.2.0'
            compile 'com.trello:rxlifecycle-components:0.2.0'
            compile 'com.jakewharton.rxbinding:rxbinding:0.2.0'
        }
            </code></pre>
            <!--// @formatter:on-->
        </section>

        <section>
            <h2>RxAndroid</h2>

            <p>Gives us some <code>Schedulers</code></p>
            <ul>
                <li><code class="java">AndroidSchedulers.mainThread()</code></li>
                <li><code class="java">HandlerScheduler.from(handler)</code></li>
            </ul>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<!--// @formatter:off-->
<script>
// Full list of configuration options available at:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    width: 1024,

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
        { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: 'plugin/zoom-js/zoom.js', async: true },
        { src: 'plugin/notes/notes.js', async: true },
        { src: 'plugin/remotes/remotes.js', async: true },
    ]
});

</script>
</body>
</html>
